import { derived, writable } from 'svelte/store';

export type SuitabilityLevel = 'Friendly' | 'Challenging' | 'Brutal';
export type LanguageCode = 'zh-Hant' | 'en';

const translations = {
  'zh-Hant': {
    topBar: {
      brandTitle: '香港單車爬坡',
      brandSubtitle: '坡道資料整理',
      nav: {
        filters: '篩選',
        profile: '你的設定',
        slopes: '爬坡列表',
        map: '地圖',
      },
      cta: '在 GitHub 參與',
      languageSwitcherLabel: '介面語言',
    },
    hero: {
      eyebrow: '香港單車爬坡工具',
      title: '根據你的設定即時計算坡度需求。',
      lead:
        '輸入車手、單車與裝備重量，加上功率輸出，就能掌握香港經典爬坡的平均與最大坡度負荷。',
      highlights: [
        '比較平均與最大坡度並查看功率需求',
        '估算完成時間與 FTP 比率',
        '匯出 CSV 以便行程規劃',
      ],
    },
    filters: {
      eyebrow: '篩選',
      title: '找到符合當日狀態的爬坡。',
      searchLabel: '搜尋爬坡',
      searchPlaceholder: '輸入爬坡或地區',
      clearSearch: '清除',
      difficultyLabel: '難度重點',
      difficultyOptions: [
        { level: 'Friendly' as SuitabilityLevel, label: '入門' },
        { level: 'Challenging' as SuitabilityLevel, label: '進階' },
        { level: 'Brutal' as SuitabilityLevel, label: '高手' },
      ],
      gradientLabel: '平均坡度 (%)',
      gradientRange: {
        min: '最低坡度',
        max: '最高坡度',
      },
      distanceLabel: '距離 (公里)',
      distanceRange: {
        min: '最短距離',
        max: '最長距離',
      },
      reset: '重設篩選',
      note: '調整條件會即時更新右方的爬坡清單。',
    },
    profile: {
      eyebrow: '你的設定',
      title: '設定你目前的單車與輸出。',
      bike: {
        title: '車款與傳動',
      },
      rider: {
        title: '重量分佈',
        helper: '分拆出車手、單車與隨身裝備的重量以計算總質量。',
        totalMass: '目前總重量',
      },
      power: {
        title: '功率概況',
      },
      form: {
        frontChainring: '最細前齒盤 (T)',
        rearSprocket: '最大飛輪 (T)',
        wheelCircumference: '輪圈周長 (毫米)',
        wheelCircumferenceCustom: '自訂數值',
        wheelCircumferenceHelper: '常見尺寸已列於選單，你亦可輸入自訂數值覆蓋。',
        ftp: 'FTP (瓦特)',
        riderWeight: '車手體重 (公斤)',
        bikeWeight: '單車重量 (公斤)',
        cargoWeight: '裝備重量 (公斤)',
        minCadence: '最低踏頻 (rpm)',
        helper: '設定會自動儲存在本機瀏覽器，稍後的適配計算會沿用這些數值。',
      },
      reset: '重設為預設值',
      savedProfiles: {
        title: '儲存的設定檔',
        subtitle: '為不同裝備或車手狀態建立多個設定檔並快速切換。',
        nameLabel: '設定檔名稱',
        namePlaceholder: '例如：雨天訓練',
        saveButton: '儲存設定檔',
        overwriteHint: '使用相同名稱會覆寫既有設定。',
        selectLabel: '載入設定檔',
        selectPlaceholder: '選擇已儲存的設定檔',
        loadButton: '載入',
        deleteButton: '刪除',
        empty: '暫時未有儲存的設定檔。',
        saved: '已儲存「{name}」。',
        loaded: '已載入「{name}」。',
        deleted: '已刪除「{name}」。',
        nameRequired: '請輸入設定檔名稱。',
      },
    },
    slopes: {
      eyebrow: '爬坡清單',
      title: '根據你的設定即時計算難度。',
      cta: '下載 CSV',
      columns: {
        climb: '爬坡',
        district: '地區',
        distance: '距離',
        ascent: '總爬升',
        gradient: '平均坡度',
        power: '功率需求',
        suitability: '適合程度',
      },
      labels: {
        maxGradient: '最大坡度 {value}',
        estimatedTime: '預估時間',
      },
      caption: '精選爬坡',
      footer: '所有指標均基於左側篩選及個人輸入設定。',
      loading: '正在載入爬坡資料…',
      error: '無法載入爬坡資料。',
      retry: '再試一次',
      empty: '暫時未有可顯示的爬坡。',
      summary: '顯示 {visible} / {total} 條爬坡',
      noMatches: '沒有符合「{query}」的爬坡。',
      clearSearch: '清除搜尋',
      placeholder: '載入資料後即可依條件查看爬坡列表。',
      burstWarning: '個別路段需要超過 {value} 的爆發力。',
      detail: {
        show: '展開詳情',
        hide: '收合詳情',
        gradientTitle: '陡坡距離',
        gradientEmpty: '暫無坡度分佈資料。',
        tagsTitle: '難度特徵',
        tagsEmpty: '未能計算難度標籤。',
        scoreLabel: '難度指標 {value}',
        profileTitle: '高度剖面',
        profileHint: '滑動查看距離、海拔與即時坡度。',
        profileLoading: '正在載入高度數據…',
        profileError: '高度圖暫時無法顯示。',
        profileMissing: '此爬坡尚未連結路線資料。',
        profileUnavailable: '找不到可用的高度資料。',
        videoTitle: '路段影片',
        videoCta: '在 YouTube 觀看',
        tags: {
          sustained13: '持續 10%+',
          punchy20: '爆發型陡坡',
          wall30: '牆式坡段',
          endurance: '耐力爬升',
          rolling: '起伏路段',
          balanced: '坡度平均',
        },
      },
      rows: [
        {
          name: '大帽山通道',
          location: '荃灣',
          distance: '5.6 km',
          gradient: '9.5%',
          suitability: 'Challenging' as SuitabilityLevel,
        },
        {
          name: '飛鵝山',
          location: '九龍',
          distance: '3.8 km',
          gradient: '10.2%',
          suitability: 'Brutal' as SuitabilityLevel,
        },
        {
          name: '柏架山道',
          location: '鰂魚涌',
          distance: '4.0 km',
          gradient: '8.1%',
          suitability: 'Friendly' as SuitabilityLevel,
        },
      ],
    },
    map: {
      eyebrow: '地圖預覽',
      title: '查看各路段位置。',
      pins: ['大帽山', '飛鵝山', '柏架山'],
      caption: '此簡化地圖預覽會根據資料集顯示實際座標位置。',
      dataset: {
        loading: '正在載入路線資料…',
        error: '無法載入路線資料。',
        retry: '再試一次',
        summary: '{groups} 條路線 · {points} 個座標點',
      },
    },
    footer: {
      message: '本地運行 • 設定僅儲存在你的裝置。',
      links: {
        github: 'GitHub',
        contact: '聯絡我們',
        privacy: '私隱政策',
      },
    },
    privacy: {
      title: '私隱政策',
      body:
        'Cycleslope 完全在你的瀏覽器內運行，所有設定與計算均儲存在本機，不會傳送到任何伺服器。清除瀏覽器資料即可刪除相關紀錄。',
      close: '知道了',
    },
    suitability: {
      Friendly: '友善',
      Challenging: '具挑戰性',
      Brutal: '極限',
    },
  },
  en: {
    topBar: {
      brandTitle: 'HK Cycling Slopes',
      brandSubtitle: 'Climb planning tools',
      nav: {
        filters: 'Filters',
        profile: 'Your Setup',
        slopes: 'Climbs',
        map: 'Map',
      },
      cta: 'View on GitHub',
      languageSwitcherLabel: 'Interface language',
    },
    hero: {
      eyebrow: 'Hong Kong climb calculator',
      title: 'Measure what each ascent demands from your setup.',
      lead:
        'Feed in rider, bike, and cargo weight plus your power profile to estimate how Hong Kong’s classic climbs will feel under real gradients.',
      highlights: [
        'Compare average and max gradients against your gearing',
        'Forecast ride time and FTP ratios instantly',
        'Export a CSV for route planning or sharing',
      ],
    },
    filters: {
      eyebrow: 'Filters',
      title: 'Find the climb that matches your mood.',
      searchLabel: 'Search climbs',
      searchPlaceholder: 'Type a climb or district',
      clearSearch: 'Clear',
      difficultyLabel: 'Difficulty focus',
      difficultyOptions: [
        { level: 'Friendly' as SuitabilityLevel, label: 'Beginner' },
        { level: 'Challenging' as SuitabilityLevel, label: 'Progression' },
        { level: 'Brutal' as SuitabilityLevel, label: 'Advanced' },
      ],
      gradientLabel: 'Average gradient (%)',
      gradientRange: {
        min: 'Minimum gradient',
        max: 'Maximum gradient',
      },
      distanceLabel: 'Distance (km)',
      distanceRange: {
        min: 'Minimum distance',
        max: 'Maximum distance',
      },
      reset: 'Reset filters',
      note: 'Adjust the inputs to update the climb list instantly.',
    },
    profile: {
      eyebrow: 'Your setup',
      title: 'Dial in your current bike and power.',
      bike: {
        title: 'Bike & drivetrain',
      },
      rider: {
        title: 'Weight breakdown',
        helper: 'Separate rider, bike, and cargo weight so the total mass stays accurate.',
        totalMass: 'Total system mass',
      },
      power: {
        title: 'Power profile',
      },
      form: {
        frontChainring: 'Smallest chainring (T)',
        rearSprocket: 'Largest sprocket (T)',
        wheelCircumference: 'Wheel circumference (mm)',
        wheelCircumferenceCustom: 'Custom value',
        wheelCircumferenceHelper: 'Pick a common size or enter the exact circumference you measured.',
        ftp: 'FTP (W)',
        riderWeight: 'Rider weight (kg)',
        bikeWeight: 'Bike weight (kg)',
        cargoWeight: 'Cargo weight (kg)',
        minCadence: 'Min cadence (rpm)',
        helper: 'Your selections are stored in this browser and will feed upcoming suitability calculations.',
      },
      reset: 'Restore defaults',
      savedProfiles: {
        title: 'Saved profiles',
        subtitle: 'Capture multiple setups for quick swapping between riders or bikes.',
        nameLabel: 'Profile name',
        namePlaceholder: 'e.g. Rainy day trainer',
        saveButton: 'Save profile',
        overwriteHint: 'Saving with an existing name will overwrite that profile.',
        selectLabel: 'Load a profile',
        selectPlaceholder: 'Select a saved profile',
        loadButton: 'Load',
        deleteButton: 'Delete',
        empty: 'No profiles saved yet.',
        saved: 'Saved “{name}”.',
        loaded: 'Loaded “{name}”.',
        deleted: 'Deleted “{name}”.',
        nameRequired: 'Please enter a profile name.',
      },
    },
    slopes: {
      eyebrow: 'Climb directory',
      title: 'See how each climb fares against your setup.',
      cta: 'Download CSV',
      columns: {
        climb: 'Climb',
        district: 'District',
        distance: 'Distance',
        ascent: 'Total ascent',
        gradient: 'Avg. gradient',
        power: 'Power demand',
        suitability: 'Suitability',
      },
      labels: {
        maxGradient: 'Max gradient {value}',
        estimatedTime: 'Estimated time',
      },
      caption: 'Featured climb',
      footer: 'Metrics respond instantly to the filters and rider inputs.',
      loading: 'Loading climbs…',
      error: 'Unable to load the climbs dataset.',
      retry: 'Try again',
      empty: 'No climbs available yet.',
      summary: 'Showing {visible} of {total} climbs',
      noMatches: 'No climbs matched “{query}”.',
      clearSearch: 'Clear search',
      placeholder: 'Climb rows will appear once the dataset finishes loading.',
      burstWarning: 'Expect short ramps above {value}.',
      detail: {
        show: 'Show details',
        hide: 'Hide details',
        gradientTitle: 'Steep distance highlights',
        gradientEmpty: 'No steep-distance data yet.',
        tagsTitle: 'Difficulty profile',
        tagsEmpty: 'No difficulty tags yet.',
        scoreLabel: 'Detail difficulty {value}',
        profileTitle: 'Elevation profile',
        profileHint: 'Drag or hover to inspect distance, elevation, and gradient.',
        profileLoading: 'Loading elevation data…',
        profileError: 'Elevation data is unavailable.',
        profileMissing: 'This climb is missing a path trace.',
        profileUnavailable: 'No elevation samples found.',
        videoTitle: 'Video preview',
        videoCta: 'Watch on YouTube',
        tags: {
          sustained13: 'Sustained 10%+',
          punchy20: 'Punchy ramps',
          wall30: 'Wall gradients',
          endurance: 'Endurance climb',
          rolling: 'Rolling terrain',
          balanced: 'Balanced gradient',
        },
      },
      rows: [
        {
          name: 'Tai Mo Shan Access Road',
          location: 'Tsuen Wan',
          distance: '5.6 km',
          gradient: '9.5%',
          suitability: 'Challenging' as SuitabilityLevel,
        },
        {
          name: 'Fei Ngo Shan',
          location: 'Kowloon',
          distance: '3.8 km',
          gradient: '10.2%',
          suitability: 'Brutal' as SuitabilityLevel,
        },
        {
          name: 'Mount Parker Road',
          location: 'Quarry Bay',
          distance: '4.0 km',
          gradient: '8.1%',
          suitability: 'Friendly' as SuitabilityLevel,
        },
      ],
    },
    map: {
      eyebrow: 'Map preview',
      title: 'Visualise climb locations.',
      pins: ['Tai Mo Shan', 'Fei Ngo Shan', 'Mount Parker'],
      caption: 'This stylised map reflects the dataset using simplified coordinates.',
      dataset: {
        loading: 'Loading path data…',
        error: 'Unable to load the path dataset.',
        retry: 'Try again',
        summary: '{groups} route groups · {points} coordinates loaded',
      },
    },
    footer: {
      message: 'Runs locally • Settings stay on this device.',
      links: {
        github: 'GitHub',
        contact: 'Contact',
        privacy: 'Privacy',
      },
    },
    privacy: {
      title: 'Privacy notice',
      body:
        'Cycleslope runs entirely in your browser. Rider settings and calculations stay local and are never uploaded. Clear your browser data to remove them.',
      close: 'Got it',
    },
    suitability: {
      Friendly: 'Friendly',
      Challenging: 'Challenging',
      Brutal: 'Brutal',
    },
  },
} as const;

export const availableLanguages = [
  { code: 'zh-Hant' as LanguageCode, label: '繁體中文' },
  { code: 'en' as LanguageCode, label: 'English' },
];

export const language = writable<LanguageCode>('zh-Hant');
export const t = derived(language, ($language) => translations[$language]);
